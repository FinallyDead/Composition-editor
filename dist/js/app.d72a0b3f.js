(function(e){function t(t){for(var s,r,a=t[0],u=t[1],d=t[2],p=0,c=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(c.length)c.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/Composition-editor/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"25f7":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Editor")],1)},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("network",{ref:"network",staticClass:"wrapper",attrs:{nodes:e.nodes,edges:e.edges,options:e.options}}),n("br"),n("button",{on:{click:e.addNewTask}},[e._v("Add new Tasks.")]),n("br"),n("br"),n("button",{on:{click:e.deleteNode}},[e._v("Delete selected node.")]),n("br"),n("br"),n("button",{on:{click:e.createBond}},[e._v("Create a bond.")]),n("br"),n("p",[n("button",{staticClass:"editSelectedNode",on:{click:e.editNode}},[e._v("Edit selected node.")])]),n("div",{ref:"Form",attrs:{id:"Form"}},[n("form",[n("br"),n("label",[e._v("id: ")]),n("input",{ref:"idInp",attrs:{value:""}}),n("p",[n("label",[e._v("type: ")]),n("input",{ref:"typeInp",attrs:{value:""}})]),n("p",[n("label",[e._v("service: ")]),n("input",{ref:"serviceInp",attrs:{value:""}})]),n("p",[n("label",[e._v("callback: ")]),n("input",{ref:"callbackInp",attrs:{value:""}})]),n("p",[n("label",[e._v("inputs:")]),n("br"),n("br"),n("label",[e._v("name: ")]),n("input",{ref:"inputsNameInp",attrs:{value:""}}),n("br"),n("br"),n("label",[e._v("value: ")]),n("input",{ref:"inputsValueInp",attrs:{value:""}}),n("br"),n("br"),n("label",[e._v("type: ")]),n("input",{ref:"inputsTypeInp",attrs:{value:""}})]),n("p",[n("label",[e._v("outputs:")]),n("br"),n("br"),n("label",[e._v("name: ")]),n("input",{ref:"outputsNameInp",attrs:{value:""}}),n("br"),n("br"),n("label",[e._v("value: ")]),n("input",{ref:"outputsValueInp",attrs:{value:""}}),n("br"),n("br"),n("label",[e._v("type: ")]),n("input",{ref:"outputsTypeInp",attrs:{value:""}})]),n("br")])]),n("p",[n("button",{ref:"cnfChg",attrs:{id:"cnfChg"},on:{click:e.confirmChanges}},[e._v("Confirm changes.")])])],1)},a=[],u=(n("c975"),n("fb6a"),n("a434"),n("b0c0"),{data:function(){return{nodes:[],edges:[],options:{nodes:{borderWidth:4},edges:{color:"#9CEE90"}},currentIndex:0,previewIndex:0,editingIndex:0,oldValue:0,selected:!1}},methods:{deleteNode:function(){this.nodes.splice(this.currentIndex,1)},createBond:function(){this.edges.push({from:this.nodes[this.previewIndex].id,to:this.nodes[this.currentIndex].id})},editNode:function(){if(this.selected){this.editingIndex=this.currentIndex,this.$refs.cnfChg.style.display="block",this.$refs.Form.style.display="block",this.$refs.idInp.value=this.nodes[this.editingIndex].id,this.$refs.typeInp.value=this.nodes[this.editingIndex].type,this.$refs.serviceInp.value=this.nodes[this.editingIndex].service,this.$refs.callbackInp.value=this.nodes[this.editingIndex].callback,this.$refs.inputsNameInp.value=this.nodes[this.editingIndex].inputs[0].name;var e=this.nodes[this.editingIndex].inputs[0].value.slice(5),t=0;t=e.indexOf("::"),e=e.slice(0,t),this.$refs.inputsValueInp.value=e,this.oldValue=e,this.$refs.inputsTypeInp.value=this.nodes[this.editingIndex].inputs[0].type,this.$refs.outputsNameInp.value=this.nodes[this.editingIndex].outputs[0].name,this.$refs.outputsValueInp.value=this.nodes[this.editingIndex].outputs[0].value,this.$refs.outputsTypeInp.value=this.nodes[this.editingIndex].outputs[0].type}},confirmChanges:function(){this.$refs.cnfChg.style.display="none",this.$refs.Form.style.display="none";var e=0;e=this.$refs.inputsValueInp.value,this.nodes[this.editingIndex].inputs[0].value="ref::"+e+"::out";for(var t=0;t<this.edges.length;t++)this.edges[t].from==this.nodes[this.editingIndex].id&&this.edges[t].to==this.oldValue&&this.edges.splice(t,1);this.edges.push({from:this.nodes[this.editingIndex].id,to:e}),this.nodes[this.editingIndex].type=this.$refs.typeInp.value,this.nodes[this.editingIndex].service=this.$refs.serviceInp.value,this.nodes[this.editingIndex].callback=this.$refs.callbackInp.value,this.nodes[this.editingIndex].inputs[0].name=this.$refs.inputsNameInp.value,this.nodes[this.editingIndex].inputs[0].type=this.$refs.inputsTypeInp.value,this.nodes[this.editingIndex].outputs[0].name=this.$refs.outputsNameInp.value,this.nodes[this.editingIndex].outputs[0].value=this.$refs.outputsValueInp.value,this.nodes[this.editingIndex].outputs[0].type=this.$refs.outputsTypeInp.value},addNewTask:function(){this.nodes.splice(0,this.nodes.length),this.edges.splice(0,this.edges.length);for(var e=[{id:"0",type:"",service:"",callback:"",inputs:[{name:"",value:"ref::1::out",type:""}],outputs:[{name:"",value:"",type:""}]},{id:"1",type:"",service:"",callback:"",inputs:[{name:"",value:"",type:""}],outputs:[{name:"",value:"",type:""}]},{id:"2",type:"",service:"",callback:"",inputs:[{name:"",value:"ref::1::out",type:""}],outputs:[{name:"",value:"",type:""}]},{id:"3",type:"",service:"",callback:"",inputs:[{name:"",value:"ref::1::out",type:""}],outputs:[{name:"",value:"",type:""}]}],t=0;t<e.length;t++)this.nodes.push(e[t]),this.nodes[t].label="Task "+(t+1);for(var n=0;n<this.nodes.length;n++){var s=" ";if(0==this.nodes[n].inputs[0].value.indexOf("ref::")){s=this.nodes[n].inputs[0].value.slice(5);var i=0;i=s.indexOf("::"),s=s.slice(0,i),this.edges.push({from:this.nodes[n].id,to:s})}}for(var o=0;o<this.nodes.length;o++){var r=this.nodes[o].id;0!=o?this.nodes[o].id=Math.ceil(2499*Math.random()+1):this.nodes[0].id=Math.ceil(2499*Math.random()+1);for(var a=this.nodes[o].id,u=0;u<this.edges.length;u++)this.edges[u].from==r&&(this.edges[u].from=a),this.edges[u].to==r&&(this.edges[u].to=a);for(var d=0;d<this.nodes.length;d++)if(""!=this.nodes[d].inputs[0].value){var l=this.nodes[d].inputs[0].value.slice(5),p=0;p=l.indexOf("::"),l=l.slice(0,p),l==r&&(l=a),this.nodes[d].inputs[0].value="ref::"+l+"::out"}}}},mounted:function(){var e=this;function t(e){e()}t((function(){for(var t=[{id:"0",type:"",service:"",callback:"",inputs:[{name:"",value:"ref::1::out",type:""}],outputs:[{name:"",value:"",type:""}]},{id:"1",type:"",service:"",callback:"",inputs:[{name:"",value:"",type:""}],outputs:[{name:"",value:"",type:""}]},{id:"2",type:"",service:"",callback:"",inputs:[{name:"",value:"ref::1::out",type:""}],outputs:[{name:"",value:"",type:""}]},{id:"3",type:"",service:"",callback:"",inputs:[{name:"",value:"ref::1::out",type:""}],outputs:[{name:"",value:"",type:""}]}],n=0;n<t.length;n++)e.nodes.push(t[n]),e.nodes[n].label="Task "+(n+1);for(var s=0;s<e.nodes.length;s++){var i=" ";if(0==e.nodes[s].inputs[0].value.indexOf("ref::")){i=e.nodes[s].inputs[0].value.slice(5);var o=0;o=i.indexOf("::"),i=i.slice(0,o),e.edges.push({from:e.nodes[s].id,to:i})}}for(var r=0;r<e.nodes.length;r++){var a=e.nodes[r].id;0!=r?e.nodes[r].id=Math.ceil(2499*Math.random()+1):e.nodes[0].id=Math.ceil(2499*Math.random()+1);for(var u=e.nodes[r].id,d=0;d<e.edges.length;d++)e.edges[d].from==a&&(e.edges[d].from=u),e.edges[d].to==a&&(e.edges[d].to=u);for(var l=0;l<e.nodes.length;l++)if(""!=e.nodes[l].inputs[0].value){var p=e.nodes[l].inputs[0].value.slice(5),c=0;c=p.indexOf("::"),p=p.slice(0,c),p==a&&(p=u),e.nodes[l].inputs[0].value="ref::"+p+"::out"}}})),document.onclick=function(t){"editSelectedNode"==t.target.className&&(e.selected=!1)},this.$refs.network.network.on("click",(function(t){e.selected=!0,e.previewIndex=e.currentIndex;for(var n=0;n<e.nodes.length;n++)t.nodes[0]==e.nodes[n].id&&(e.currentIndex=n);console.log(t)}))}}),d=u,l=(n("b16a"),n("2877")),p=Object(l["a"])(d,r,a,!1,null,null,null),c=p.exports,h={name:"App",components:{Editor:c}},f=h,v=(n("034f"),Object(l["a"])(f,i,o,!1,null,null,null)),b=v.exports,g=n("b329");s["a"].component("network",g["Network"]),s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(b)}}).$mount("#app")},"85ec":function(e,t,n){},b16a:function(e,t,n){"use strict";n("25f7")}});
//# sourceMappingURL=app.d72a0b3f.js.map